(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{332:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"rightToc",(function(){return i})),t.d(n,"default",(function(){return p}));t(0);var r=t(388);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c={id:"same-origin-policy",title:"同源策略",sidebar_label:"同源策略"},i=[],l={rightToc:i},u="wrapper";function p(e){var n=e.components,t=a(e,["components"]);return Object(r.b)(u,o({},l,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("div",{align:"center"},Object(r.b)("img",{src:"https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/VKSsM4.png",width:"345",height:"125"}),Object(r.b)("p",null,"图1：同源示意图")),Object(r.b)("p",null,"同源策略：协议、域名、端口全部相同，三者缺一不可。"),Object(r.b)("p",null,"注： 有些人会说 baidu.com zhihu.com qq.com 是一级域名，虽然是错误的，但可以理解(说的人多了也就是对的了……)，这是站在使用者/购买者角度看的，对于购买域名者来说 xxx.com xxx.com.cn就相当一级域名，但是从真正的域名分级看，它们俩分别是二级域名、三级域名。"),Object(r.b)("p",null,"同源政策的目的，是为了保证用户信息的安全，防止恶意的网站窃取数据。"),Object(r.b)("p",null,"设想这样一种情况：A网站是一家银行，用户登录以后，又去浏览其他网站。如果其他网站可以读取A网站的 Cookie，会发生什么？"),Object(r.b)("p",null,"很显然，如果 Cookie 包含隐私（比如存款总额），这些信息就会泄漏。更可怕的是，Cookie 往往用来保存用户的登录状态，如果用户没有退出登录，其他网站就可以冒充用户，为所欲为。因为浏览器同时还规定，提交表单不受同源政策的限制。"),Object(r.b)("p",null,'由此可见，"同源策略"是必需的，否则 Cookie 可以共享，互联网就毫无安全可言了。'),Object(r.b)("p",null,"目前，如果非同源，共有三种行为受到限制。"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Cookie、LocalStorage 和 SessionStorage\nIndexDB 无法读取。"),Object(r.b)("li",{parentName:"ul"},"DOM 无法获得。"),Object(r.b)("li",{parentName:"ul"},"AJAX 请求不能发送。")))}p.isMDXComponent=!0},388:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return b}));var r=t(0),o=t.n(r),a=o.a.createContext({}),c=function(e){var n=o.a.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},i=function(e){var n=c(e.components);return o.a.createElement(a.Provider,{value:n},e.children)};var l="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},p=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["components","mdxType","originalType","parentName"]),p=c(t),b=r,s=p[i+"."+b]||p[b]||u[b]||a;return t?o.a.createElement(s,Object.assign({},{ref:n},l,{components:t})):o.a.createElement(s,Object.assign({},{ref:n},l))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=p;var i={};for(var u in n)hasOwnProperty.call(n,u)&&(i[u]=n[u]);i.originalType=e,i[l]="string"==typeof e?e:r,c[1]=i;for(var b=2;b<a;b++)c[b]=t[b];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);