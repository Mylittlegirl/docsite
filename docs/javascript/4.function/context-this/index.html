<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"17896441":["/docsite/17896441.de264834.css","/docsite/17896441.6c9b418a.js"],"23472906":["/docsite/23472906.224ab42b.js"],"27780837":["/docsite/27780837.46a15d2b.js"],"37794963":["/docsite/37794963.f9a24f08.js"],"57930540":["/docsite/57930540.95d7aba5.js"],"74419249":["/docsite/74419249.2818bfa9.js"],"74980264":["/docsite/74980264.9a1c8851.js"],"87130785":["/docsite/87130785.97e69bf1.js"],"93955555":["/docsite/93955555.7fe52e7d.js"],"94119482":["/docsite/94119482.639cc05c.js"],"97236668":["/docsite/97236668.d74d5abd.js"],"main":["/docsite/main.5acaecc2.css","/docsite/main.7e2c0c8b.js"],"c4f5d8e4":["/docsite/c4f5d8e4.9f99729b.css","/docsite/c4f5d8e4.087429e2.js"],"ccc49370":["/docsite/ccc49370.42d18faa.css","/docsite/ccc49370.8bc6d0c9.js"],"ee3a113c":["/docsite/ee3a113c.cf7e1134.js"],"2f794cde":["/docsite/2f794cde.f710ee17.js"],"08efdbeb":["/docsite/08efdbeb.5ff52cb6.js"],"c495ceb9":["/docsite/c495ceb9.188e9427.js"],"0e1f83fa":["/docsite/0e1f83fa.5dfa6deb.js"],"a6aa9e1f":["/docsite/a6aa9e1f.42d18faa.css","/docsite/a6aa9e1f.f2a0d321.js"],"53ffd27f":["/docsite/53ffd27f.3c3e1c2b.js"],"67f379f0":["/docsite/67f379f0.34f8a970.js"],"7a66c60e":["/docsite/7a66c60e.2e97a1b3.js"],"7abe9480":["/docsite/7abe9480.94dc4a13.js"],"1be78505":["/docsite/1be78505.a7dc664a.css","/docsite/1be78505.99d86712.js"],"57e90e5e":["/docsite/57e90e5e.941e8439.js"],"df361e2b":["/docsite/df361e2b.758a7371.js"],"2e30eda0":["/docsite/2e30eda0.f0718ec0.js"],"616665f6":["/docsite/616665f6.dcba7b2b.js"],"d68604a8":["/docsite/d68604a8.987acb79.js"],"b2f90839":["/docsite/b2f90839.c7fd78c5.js"],"3646ceb6":["/docsite/3646ceb6.18e91353.js"],"ce3e42ad":["/docsite/ce3e42ad.c781177e.js"],"38fb889f":["/docsite/38fb889f.1f783ed8.js"],"b2238368":["/docsite/b2238368.c04048ce.js"],"39919c58":["/docsite/39919c58.f74a8b27.js"],"2841c254":["/docsite/2841c254.cd1e62e3.js"],"211d6883":["/docsite/211d6883.cbff167e.js"],"3771367e":["/docsite/3771367e.3464f5a1.js"],"6b71f900":["/docsite/6b71f900.98fb975b.js"],"2e89c190":["/docsite/2e89c190.a50f24f1.js"],"6dfd4eb7":["/docsite/6dfd4eb7.e9ec02fe.js"],"5c9c385e":["/docsite/5c9c385e.8bca9648.js"],"74a1810e":["/docsite/74a1810e.3885fdc7.js"],"1621b74f":["/docsite/1621b74f.a1ead1d7.js"],"f6cecaf9":["/docsite/f6cecaf9.544e97c7.js"],"3b0fa7e1":["/docsite/3b0fa7e1.2862ba25.js"],"de1e4f41":["/docsite/de1e4f41.ea7e6334.js"],"38e977dc":["/docsite/38e977dc.33d6c999.js"],"05d994bc":["/docsite/05d994bc.d1470022.js"],"c8dedd7d":["/docsite/c8dedd7d.4c0ffc97.js"],"08612653":["/docsite/08612653.2ec8ba23.js"],"c4f8f901":["/docsite/c4f8f901.165ea892.js"],"f969be42":["/docsite/f969be42.22dc468d.js"],"f4108344":["/docsite/f4108344.90395fed.js"],"bd2f0648":["/docsite/bd2f0648.6db16d4d.js"],"504797aa":["/docsite/504797aa.8a0a0af8.js"],"93a1e63d":["/docsite/93a1e63d.6da04da0.js"],"1db8cef8":["/docsite/1db8cef8.44abfe4d.js"],"4eb9051e":["/docsite/4eb9051e.22ee72be.js"],"3322b8b6":["/docsite/3322b8b6.d8245af0.js"],"3243c609":["/docsite/3243c609.8d0e7c3e.js"],"159f3bbd":["/docsite/159f3bbd.7be0b22d.js"],"92ef0e91":["/docsite/92ef0e91.12640d68.js"],"f6a51704":["/docsite/f6a51704.d538afac.js"],"2e8891f7":["/docsite/2e8891f7.df67e3da.js"],"01dcda27":["/docsite/01dcda27.e9055d63.js"],"7c74ee73":["/docsite/7c74ee73.f160a230.js"],"affd65fc":["/docsite/affd65fc.d4b74a95.js"],"f7923353":["/docsite/f7923353.4d486a94.js"],"244229a2":["/docsite/244229a2.a2079bbc.js"],"6adf5f29":["/docsite/6adf5f29.bf3482fe.js"],"0863ad8b":["/docsite/0863ad8b.5fa18c4b.js"],"1f8685b8":["/docsite/1f8685b8.c1d4cbb4.js"],"b43e5da4":["/docsite/b43e5da4.2392dd68.js"],"fbe75a3b":["/docsite/fbe75a3b.f9f9fed1.js"],"cbfb232c":["/docsite/cbfb232c.5b7b3b9e.js"],"f4e97366":["/docsite/f4e97366.0044373d.js"],"2c2869b1":["/docsite/2c2869b1.c0502d8b.js"],"03de2b5e":["/docsite/03de2b5e.35403721.js"],"5ade0974":["/docsite/5ade0974.aeb03bd0.js"],"ad5a956a":["/docsite/ad5a956a.e8aebdfc.js"],"2aef18e2":["/docsite/2aef18e2.8935576e.js"],"f032f3e9":["/docsite/f032f3e9.c53c3aab.js"],"2b3c65d5":["/docsite/2b3c65d5.770d8012.js"],"22d45952":["/docsite/22d45952.6052f2e6.js"],"d1317f86":["/docsite/d1317f86.9979d038.js"],"080b33f0":["/docsite/080b33f0.bcc6a985.js"],"8368e116":["/docsite/8368e116.614dbd2c.js"],"500c3bd1":["/docsite/500c3bd1.c6166df3.js"],"d7d45e95":["/docsite/d7d45e95.6f72fd29.js"],"82eddbbc":["/docsite/82eddbbc.bb99dbfb.css","/docsite/82eddbbc.1560c4d4.js"],"e0bb3e5a":["/docsite/e0bb3e5a.1caeca6b.js"],"b8173626":["/docsite/b8173626.e5945507.js"],"9e153541":["/docsite/9e153541.4a19326b.js"],"6489409d":["/docsite/6489409d.bb99dbfb.css","/docsite/6489409d.c3c266ad.js"],"926a3e9b":["/docsite/926a3e9b.e27ea60d.js"],"31e7cd9d":["/docsite/31e7cd9d.f4bc3fe9.js"],"056d127c":["/docsite/056d127c.253da2b9.js"],"44f81845":["/docsite/44f81845.bb99dbfb.css","/docsite/44f81845.d7b02d11.js"],"b2a6c8c9":["/docsite/b2a6c8c9.8ceea395.js"],"a9fdbaac":["/docsite/a9fdbaac.bb99dbfb.css","/docsite/a9fdbaac.e771a173.js"],"29f00e4b":["/docsite/29f00e4b.357ed64e.js"],"4a106cee":["/docsite/4a106cee.bb99dbfb.css","/docsite/4a106cee.ce0e7454.js"],"9969367e":["/docsite/9969367e.1c418ddb.js"],"6c18c0bc":["/docsite/6c18c0bc.bb99dbfb.css","/docsite/6c18c0bc.70c18025.js"],"d50781cd":["/docsite/d50781cd.48abedce.js"],"aaf4e36b":["/docsite/aaf4e36b.bb99dbfb.css","/docsite/aaf4e36b.4829ae06.js"],"5280e440":["/docsite/5280e440.dfd71ec5.js"],"44404b2d":["/docsite/44404b2d.bb99dbfb.css","/docsite/44404b2d.a020d9af.js"],"88b38720":["/docsite/88b38720.27215b6c.js"],"2ed77221":["/docsite/2ed77221.bb99dbfb.css","/docsite/2ed77221.185b6c42.js"],"223e4ab9":["/docsite/223e4ab9.ee02d55f.js"],"01ebbcaa":["/docsite/01ebbcaa.bb99dbfb.css","/docsite/01ebbcaa.ee7146b7.js"],"81e8bdf0":["/docsite/81e8bdf0.56f7221a.js"],"d70931dc":["/docsite/d70931dc.bb99dbfb.css","/docsite/d70931dc.43a4dd41.js"],"a8136616":["/docsite/a8136616.bb4836f9.js"],"6edcb490":["/docsite/6edcb490.5117e811.js"],"beefdf71":["/docsite/beefdf71.c60cc704.js"],"80064ca2":["/docsite/80064ca2.bb99dbfb.css","/docsite/80064ca2.a7fe59eb.js"],"aea92a5e":["/docsite/aea92a5e.6068d838.js"],"f9675e35":["/docsite/f9675e35.bb99dbfb.css","/docsite/f9675e35.865d14c1.js"],"04153fdf":["/docsite/04153fdf.79429785.js"],"05712003":["/docsite/05712003.bb99dbfb.css","/docsite/05712003.caed6ef6.js"],"2af29633":["/docsite/2af29633.dff7a884.js"],"1ba1df6e":["/docsite/1ba1df6e.bb99dbfb.css","/docsite/1ba1df6e.253806d4.js"],"ace0622f":["/docsite/ace0622f.d80936bc.js"],"699af1ca":["/docsite/699af1ca.bb99dbfb.css","/docsite/699af1ca.e7195505.js"],"44a22b46":["/docsite/44a22b46.c46dd6a9.js"],"a55d5f72":["/docsite/a55d5f72.bbea0630.js"],"46408bb0":["/docsite/46408bb0.ee6e2155.js"],"f3157692":["/docsite/f3157692.07e77960.js"],"553d0265":["/docsite/553d0265.1750eed9.js"],"c9952c8d":["/docsite/c9952c8d.9645d227.js"],"ef2b6d60":["/docsite/ef2b6d60.5627cc8c.js"],"713dc552":["/docsite/713dc552.4cf3d731.js"],"3bf2adf7":["/docsite/3bf2adf7.621c86bb.js"],"107dbe37":["/docsite/107dbe37.ca84acf3.js"],"d94e8ef0":["/docsite/d94e8ef0.f64142e0.js"],"a59e1759":["/docsite/a59e1759.31c553c3.js"],"33330f73":["/docsite/33330f73.0ce4e264.js"],"5cbbbd3d":["/docsite/5cbbbd3d.bb99dbfb.css","/docsite/5cbbbd3d.5fb2780e.js"],"c8683266":["/docsite/c8683266.9ae15872.js"],"19c852f6":["/docsite/19c852f6.b10e56d4.js"],"663ff5bb":["/docsite/663ff5bb.c3db242e.js"],"58de53a7":["/docsite/58de53a7.8d98f784.js"],"1c1410a3":["/docsite/1c1410a3.9c3cb4ec.js"],"63fda552":["/docsite/63fda552.21b90c74.js"],"2e1b3ae3":["/docsite/2e1b3ae3.e244ddb6.js"],"11b2d1e3":["/docsite/11b2d1e3.8e2aa236.js"],"1b8e9266":["/docsite/1b8e9266.960a96b4.js"],"15880d90":["/docsite/15880d90.80bb5160.js"],"07043dd8":["/docsite/07043dd8.3757ec45.js"],"ed73bc09":["/docsite/ed73bc09.4e1db9b1.js"],"eb64de9e":["/docsite/eb64de9e.d4d461f5.js"],"90c46ce7":["/docsite/90c46ce7.69995c6b.js"],"3f2d7e49":["/docsite/3f2d7e49.adc7a67e.js"],"4e95ff28":["/docsite/4e95ff28.bb99dbfb.css","/docsite/4e95ff28.7de6c53f.js"],"047084a0":["/docsite/047084a0.ca1c93a6.js"],"1d4cb3eb":["/docsite/1d4cb3eb.d23f9b1c.js"],"dbc0c67c":["/docsite/dbc0c67c.c53e305a.js"],"a4c04a02":["/docsite/a4c04a02.d38a0a8d.js"],"6f32d80d":["/docsite/6f32d80d.310a13b4.js"],"4531f9ea":["/docsite/4531f9ea.bb99dbfb.css","/docsite/4531f9ea.8973a99c.js"],"a06b1018":["/docsite/a06b1018.d118826c.js"],"2ce331c7":["/docsite/2ce331c7.bb99dbfb.css","/docsite/2ce331c7.492a141a.js"],"d7fbcadc":["/docsite/d7fbcadc.7c4e1a91.js"],"a1fd2207":["/docsite/a1fd2207.d6bba88f.js"],"033045c8":["/docsite/033045c8.c8805c9e.js"],"ad7530d0":["/docsite/ad7530d0.bb99dbfb.css","/docsite/ad7530d0.0d8ee15c.js"],"814efee9":["/docsite/814efee9.dd3af090.js"],"aa345f92":["/docsite/aa345f92.a5374d8a.js"],"ad428253":["/docsite/ad428253.be89f7d3.js"],"b00a4f88":["/docsite/b00a4f88.85921060.js"],"fec8d432":["/docsite/fec8d432.bff88972.js"],"b43c2a92":["/docsite/b43c2a92.ce8b12ae.js"],"d0b14826":["/docsite/d0b14826.b99a43d6.js"],"3ede3bc2":["/docsite/3ede3bc2.4cedee84.js"],"0b5983b8":["/docsite/0b5983b8.c367fabd.js"],"e8003673":["/docsite/e8003673.8d78a69c.js"],"771fed07":["/docsite/771fed07.38bf4984.js"],"cd9805d6":["/docsite/cd9805d6.060888c6.js"],"a2edeb56":["/docsite/a2edeb56.a3b8b9a3.js"],"2d720e8c":["/docsite/2d720e8c.0d9d8d67.js"],"d54bbdcf":["/docsite/d54bbdcf.aea1bada.js"],"01ef92ae":["/docsite/01ef92ae.8384df21.js"],"7bf05233":["/docsite/7bf05233.f5696777.js"],"39137d30":["/docsite/39137d30.10bfc042.js"],"394db02f":["/docsite/394db02f.32799502.js"],"8c68c9f8":["/docsite/8c68c9f8.e48017cb.js"],"78e2ac06":["/docsite/78e2ac06.58e78838.js"],"f544e65a":["/docsite/f544e65a.3ecbd96f.js"],"6d1e4b91":["/docsite/6d1e4b91.f83ec53b.js"],"af8e703b":["/docsite/af8e703b.50115c6a.js"],"8039a4bb":["/docsite/8039a4bb.e49eb0d1.js"],"0f631d56":["/docsite/0f631d56.cc8ae6ac.js"],"e13129ca":["/docsite/e13129ca.fc182f85.js"],"c62bfe1a":["/docsite/c62bfe1a.62e64b16.js"],"5d5d2097":["/docsite/5d5d2097.5cf1e172.js"],"9b6a08e4":["/docsite/9b6a08e4.bb99dbfb.css","/docsite/9b6a08e4.36539049.js"],"4573c181":["/docsite/4573c181.b1e095d3.js"],"8ba219ff":["/docsite/8ba219ff.89b9d35e.js"],"8eca8034":["/docsite/8eca8034.e523af74.js"],"ae237e47":["/docsite/ae237e47.c50243af.js"],"7a9deafd":["/docsite/7a9deafd.045af262.js"],"6e89837f":["/docsite/6e89837f.affdd1d2.js"],"1eb0d661":["/docsite/1eb0d661.bb99dbfb.css","/docsite/1eb0d661.70e4b313.js"],"38d1a4ef":["/docsite/38d1a4ef.da6f2b87.js"],"a13ecb67":["/docsite/a13ecb67.177e1a2b.js"],"fc30cf21":["/docsite/fc30cf21.58aa1e67.js"],"8072479e":["/docsite/8072479e.c0126d68.js"],"67f7f0af":["/docsite/67f7f0af.531bd15e.js"],"a298e154":["/docsite/a298e154.abc4696b.js"],"0e39d46c":["/docsite/0e39d46c.25779961.js"],"3c06ffaf":["/docsite/3c06ffaf.bb99dbfb.css","/docsite/3c06ffaf.e0332fa0.js"],"80e7ac46":["/docsite/80e7ac46.69c4c91d.js"],"1b5b4c7d":["/docsite/1b5b4c7d.a38185c8.js"],"85ccf9b3":["/docsite/85ccf9b3.0a7c5664.js"],"0473fe8e":["/docsite/0473fe8e.32ee9c58.js"],"88aca744":["/docsite/88aca744.bb99dbfb.css","/docsite/88aca744.2ce09d81.js"],"0f1e15b0":["/docsite/0f1e15b0.02243440.js"],"b7ef10f2":["/docsite/b7ef10f2.eb7dff4b.js"],"c60ee35b":["/docsite/c60ee35b.8d94e894.js"],"897e23ff":["/docsite/897e23ff.59119645.js"],"a11811fe":["/docsite/a11811fe.f9eff6d1.js"],"adbdc601":["/docsite/adbdc601.fd3ba2e6.js"],"d6792699":["/docsite/d6792699.a6a4ebb2.js"],"f447115f":["/docsite/f447115f.bb99dbfb.css","/docsite/f447115f.af23e541.js"],"4923d296":["/docsite/4923d296.5ac15626.js"],"d88d97a0":["/docsite/d88d97a0.ac3fa244.js"],"f198a29a":["/docsite/f198a29a.9bac66eb.js"],"55f378f5":["/docsite/55f378f5.bb99dbfb.css","/docsite/55f378f5.3e3024e7.js"],"29a1ddb4":["/docsite/29a1ddb4.2ec82906.js"],"65263e04":["/docsite/65263e04.dd4ecb7e.js"],"0a8e8050":["/docsite/0a8e8050.a6f273cb.js"],"4705e7a1":["/docsite/4705e7a1.d4251363.js"],"17969eb4":["/docsite/17969eb4.dcd17621.js"],"29c12071":["/docsite/29c12071.27a82563.js"],"06279ac4":["/docsite/06279ac4.d835f496.js"],"50036b11":["/docsite/50036b11.3679615e.js"],"4c9f16f0":["/docsite/4c9f16f0.2d8361b1.js"],"e3e216fd":["/docsite/e3e216fd.b131d545.js"],"fe9a0438":["/docsite/fe9a0438.3d3d02f8.js"],"4583e479":["/docsite/4583e479.a3902899.js"],"0cd0532d":["/docsite/0cd0532d.5e8be155.js"],"182507fe":["/docsite/182507fe.bb99dbfb.css","/docsite/182507fe.c7a5e460.js"],"db957782":["/docsite/db957782.a5509bbb.js"],"78ba05ff":["/docsite/78ba05ff.73bac733.js"],"7d5b7d40":["/docsite/7d5b7d40.b18dea06.js"],"dcbf60b8":["/docsite/dcbf60b8.36966da2.js"],"5baeab77":["/docsite/5baeab77.d758240b.js"],"adc5c081":["/docsite/adc5c081.4376c474.js"],"f1774708":["/docsite/f1774708.213673e1.js"],"25689b48":["/docsite/25689b48.fc54b5fc.js"],"cd14ec25":["/docsite/cd14ec25.0e3f36aa.js"],"3d682d4f":["/docsite/3d682d4f.bc6c2bb4.js"],"d419e3e1":["/docsite/d419e3e1.d4159bf3.js"],"cc228aab":["/docsite/cc228aab.545e75b9.js"],"c5aabd03":["/docsite/c5aabd03.d296ba39.js"],"45f42b17":["/docsite/45f42b17.f541fa48.js"],"7d08c7d9":["/docsite/7d08c7d9.ed0717e1.js"],"986fcf25":["/docsite/986fcf25.9b70d63f.js"],"b855955d":["/docsite/b855955d.779ccd66.js"],"23db57e6":["/docsite/23db57e6.b8eb3d5d.js"],"b793522a":["/docsite/b793522a.bb99dbfb.css","/docsite/b793522a.0228e8c3.js"],"40b7e39e":["/docsite/40b7e39e.13165e6b.js"],"ef2aecc9":["/docsite/ef2aecc9.bb99dbfb.css","/docsite/ef2aecc9.5405447c.js"],"5b751c09":["/docsite/5b751c09.6e5194cf.js"],"6ce58e08":["/docsite/6ce58e08.bb99dbfb.css","/docsite/6ce58e08.1a4d86c9.js"],"9473f903":["/docsite/9473f903.61428eca.js"],"e9b50d9c":["/docsite/e9b50d9c.bb99dbfb.css","/docsite/e9b50d9c.2c75da85.js"],"8f362039":["/docsite/8f362039.304861dc.js"],"b58d7a20":["/docsite/b58d7a20.bb99dbfb.css","/docsite/b58d7a20.9fba1b61.js"],"5714c767":["/docsite/5714c767.adb5eaec.js"],"58a91745":["/docsite/58a91745.bb99dbfb.css","/docsite/58a91745.a240755d.js"],"899c0b14":["/docsite/899c0b14.62f00b3e.js"],"608d68a9":["/docsite/608d68a9.bb99dbfb.css","/docsite/608d68a9.4b3c42bb.js"],"a16394ef":["/docsite/a16394ef.ecc06633.js"],"fc8a29f4":["/docsite/fc8a29f4.bb99dbfb.css","/docsite/fc8a29f4.0a223cc1.js"],"17b6bee9":["/docsite/17b6bee9.9b0b8349.js"],"033763e3":["/docsite/033763e3.bb99dbfb.css","/docsite/033763e3.0c22dd34.js"],"c44fe60a":["/docsite/c44fe60a.b67f2c25.js"],"0f7d1b9b":["/docsite/0f7d1b9b.bb99dbfb.css","/docsite/0f7d1b9b.484bb402.js"],"e51935b5":["/docsite/e51935b5.5bb3d62a.js"],"e1843fd7":["/docsite/e1843fd7.bb99dbfb.css","/docsite/e1843fd7.af055128.js"],"4567070e":["/docsite/4567070e.a6fa98f5.js"],"83e620c2":["/docsite/83e620c2.bb99dbfb.css","/docsite/83e620c2.b10efe4e.js"],"76906ad8":["/docsite/76906ad8.617dd180.js"],"ac69863b":["/docsite/ac69863b.ab3c6dab.js"],"db4a1533":["/docsite/db4a1533.22385bfb.js"],"358bcdd4":["/docsite/358bcdd4.f96bafac.js"],"5ea24069":["/docsite/5ea24069.6e0de37f.js"],"5e9632dd":["/docsite/5e9632dd.bb99dbfb.css","/docsite/5e9632dd.44134905.js"],"f3680ec8":["/docsite/f3680ec8.292981bc.js"],"2f924de0":["/docsite/2f924de0.faeec199.js"],"ad194f87":["/docsite/ad194f87.1a7e8c06.js"],"e2dce444":["/docsite/e2dce444.a88dbb37.js"],"782ea202":["/docsite/782ea202.3431184f.js"],"7555a1cd":["/docsite/7555a1cd.4c552f12.js"],"68a08e37":["/docsite/68a08e37.bb99dbfb.css","/docsite/68a08e37.aab0db1d.js"],"adfd710b":["/docsite/adfd710b.50cd537e.js"],"e1f6f245":["/docsite/e1f6f245.bb99dbfb.css","/docsite/e1f6f245.922c7b17.js"],"31d0ea72":["/docsite/31d0ea72.31430a69.js"],"3277807d":["/docsite/3277807d.df3cb592.js"],"653c4cb0":["/docsite/653c4cb0.12778694.js"],"6071507c":["/docsite/6071507c.bb99dbfb.css","/docsite/6071507c.e219d9fa.js"],"b5d46e94":["/docsite/b5d46e94.45a7c99d.js"],"213eca13":["/docsite/213eca13.bb99dbfb.css","/docsite/213eca13.f2267bc3.js"],"b95a7d71":["/docsite/b95a7d71.3aa02e97.js"],"6520bede":["/docsite/6520bede.bb99dbfb.css","/docsite/6520bede.3cc816c0.js"],"ef6db2c5":["/docsite/ef6db2c5.93880f80.js"],"c48b7179":["/docsite/c48b7179.27429d48.js"],"e22e0aa0":["/docsite/e22e0aa0.edb2733a.js"],"ff209b8e":["/docsite/ff209b8e.bb99dbfb.css","/docsite/ff209b8e.991fd85f.js"],"af41aca9":["/docsite/af41aca9.83ff315b.js"],"d0ced307":["/docsite/d0ced307.bb99dbfb.css","/docsite/d0ced307.9165b535.js"],"0a08042c":["/docsite/0a08042c.c6d29fae.js"],"e71cc4f0":["/docsite/e71cc4f0.bb99dbfb.css","/docsite/e71cc4f0.0c3307ae.js"],"49f4125d":["/docsite/49f4125d.43b1df38.js"],"e99f5c31":["/docsite/e99f5c31.bb99dbfb.css","/docsite/e99f5c31.8921fda5.js"],"f1ea77c2":["/docsite/f1ea77c2.841a4ebd.js"],"d093435a":["/docsite/d093435a.bb99dbfb.css","/docsite/d093435a.caa7a7e7.js"],"233b9e72":["/docsite/233b9e72.75baca5a.js"],"136355ba":["/docsite/136355ba.bb99dbfb.css","/docsite/136355ba.e9c32753.js"],"9fa359ca":["/docsite/9fa359ca.9e1ffcab.js"],"3ad82b0e":["/docsite/3ad82b0e.bb99dbfb.css","/docsite/3ad82b0e.fd7fcaa9.js"],"c1e89aed":["/docsite/c1e89aed.a8334a90.js"],"ecf76184":["/docsite/ecf76184.e3e09eea.js"],"67a5ed66":["/docsite/67a5ed66.ce4492ab.js"],"0723b8c1":["/docsite/0723b8c1.9e8dca25.js"],"5f7eab5b":["/docsite/5f7eab5b.e91187dd.js"],"5c709309":["/docsite/5c709309.bb99dbfb.css","/docsite/5c709309.0f6eaafb.js"],"a22acfe6":["/docsite/a22acfe6.cde93b14.js"],"11e41ebd":["/docsite/11e41ebd.ef686e91.js"],"ae3fc00b":["/docsite/ae3fc00b.cd7ea46f.js"],"4663baf9":["/docsite/4663baf9.cb1a4e17.js"],"b3d6ebf6":["/docsite/b3d6ebf6.b7f151f0.js"],"1894aae2":["/docsite/1894aae2.9483079c.js"],"0cd87c01":["/docsite/0cd87c01.40563f81.js"],"d0d470d3":["/docsite/d0d470d3.72ed1d09.js"],"fa554913":["/docsite/fa554913.b68c53b6.js"],"3d53e746":["/docsite/3d53e746.bb99dbfb.css","/docsite/3d53e746.9d54f45c.js"],"ac358721":["/docsite/ac358721.0dce1cec.js"],"8e2b2155":["/docsite/8e2b2155.bb99dbfb.css","/docsite/8e2b2155.ef8d1bae.js"],"d73cc76a":["/docsite/d73cc76a.0a40b61c.js"],"5f3b28c6":["/docsite/5f3b28c6.8411416d.js"],"87c34667":["/docsite/87c34667.d5755327.js"],"6747d72b":["/docsite/6747d72b.ddc3e633.js"],"213e76a6":["/docsite/213e76a6.4cbf9e00.js"],"dd587fe5":["/docsite/dd587fe5.91a36120.js"],"bac13824":["/docsite/bac13824.1e645f42.js"],"d3223938":["/docsite/d3223938.d278ffcb.js"],"3b9c71f2":["/docsite/3b9c71f2.1020c184.js"],"85caa9e7":["/docsite/85caa9e7.fb341e9b.js"],"f49b7631":["/docsite/f49b7631.598bb8f8.js"],"7249b070":["/docsite/7249b070.5579c1bc.js"],"8b822973":["/docsite/8b822973.2aaa560c.js"],"34bb3249":["/docsite/34bb3249.4d2e19b7.js"],"b9bf037c":["/docsite/b9bf037c.0cfeb2d5.js"],"60e2e0ad":["/docsite/60e2e0ad.fed04205.js"],"614c128a":["/docsite/614c128a.b284a342.js"],"ed6aaf84":["/docsite/ed6aaf84.2de09872.js"],"98fa44c9":["/docsite/98fa44c9.d8059069.js"],"439f584e":["/docsite/439f584e.0e3396ab.js"],"1d004d4f":["/docsite/1d004d4f.558accb1.js"],"427c7282":["/docsite/427c7282.9e81c48e.js"],"412795d7":["/docsite/412795d7.35f64ab4.js"],"ac8597e5":["/docsite/ac8597e5.cfae9982.js"],"843f9ae0":["/docsite/843f9ae0.12f3e117.js"],"a742cf3e":["/docsite/a742cf3e.2c29f553.js"],"c9fcb32a":["/docsite/c9fcb32a.e8fa944a.js"],"db103f51":["/docsite/db103f51.5a4e6b79.js"],"3cee0e13":["/docsite/3cee0e13.3be50221.js"],"8d9dbcf3":["/docsite/8d9dbcf3.52ee6515.js"],"236802b2":["/docsite/236802b2.747eb23e.js"],"bb9412db":["/docsite/bb9412db.c4cb394d.js"],"df6e83fc":["/docsite/df6e83fc.d090afb2.js"],"c17af7ff":["/docsite/c17af7ff.2a040bab.js"],"af584b4a":["/docsite/af584b4a.c9cb835a.js"],"f2fc7818":["/docsite/f2fc7818.6906f904.js"],"6d2d7f95":["/docsite/6d2d7f95.0e88e55d.js"],"f8d4c3b5":["/docsite/f8d4c3b5.c929c2c5.js"],"00e1963e":["/docsite/00e1963e.330ab287.js"],"f0688b84":["/docsite/f0688b84.fd37b6d4.js"],"6ab7db70":["/docsite/6ab7db70.e512468c.js"],"60cc2509":["/docsite/60cc2509.7a343391.js"],"988dfc52":["/docsite/988dfc52.27a457ec.js"],"d01479ac":["/docsite/d01479ac.2ff1f4f8.js"],"f0ca46d8":["/docsite/f0ca46d8.3ca0ba0b.js"],"10d9fd8d":["/docsite/10d9fd8d.8e74537a.js"],"af3ba288":["/docsite/af3ba288.4f6ca1b2.js"],"c4f62906":["/docsite/c4f62906.99d486ce.js"],"bc7cf78e":["/docsite/bc7cf78e.4816d2a4.js"],"4be14196":["/docsite/4be14196.1f932186.js"],"903de9cb":["/docsite/903de9cb.5faf73d4.js"],"2d1ffbbd":["/docsite/2d1ffbbd.2fb87ee1.js"],"922fbcdd":["/docsite/922fbcdd.9d0bc8ce.js"],"9ca32d26":["/docsite/9ca32d26.4adfa86b.js"],"c34a239d":["/docsite/c34a239d.78b23906.js"],"e9622f49":["/docsite/e9622f49.a2077004.js"],"dc8617b3":["/docsite/dc8617b3.a8c17943.js"],"1eaf26ba":["/docsite/1eaf26ba.274554c4.js"],"1fe3553c":["/docsite/1fe3553c.a3c3fbbc.js"],"b9436201":["/docsite/b9436201.735e2291.js"],"aee504ae":["/docsite/aee504ae.281858fc.js"],"ebf53fdb":["/docsite/ebf53fdb.917e70ae.js"],"ec60decb":["/docsite/ec60decb.559eed92.js"],"1eab4370":["/docsite/1eab4370.af8f53c6.js"],"832bdbc2":["/docsite/832bdbc2.cc200598.js"],"b284c1df":["/docsite/b284c1df.4e802016.js"],"9128dbbb":["/docsite/9128dbbb.4a5a3912.js"],"85087f88":["/docsite/85087f88.6045aab6.js"],"01fc4311":["/docsite/01fc4311.7b5e9efd.js"],"cd15c05e":["/docsite/cd15c05e.9ec75550.js"],"1dc17812":["/docsite/1dc17812.20f27064.js"],"beebe54d":["/docsite/beebe54d.63d7da1d.js"],"b1a00198":["/docsite/b1a00198.9e5ce01c.js"],"2c9c0d52":["/docsite/2c9c0d52.f3bec2fc.js"],"2a30ffac":["/docsite/2a30ffac.acec7619.js"],"4487f9f3":["/docsite/4487f9f3.8789846c.js"],"854d2873":["/docsite/854d2873.f84c8ffd.js"],"2de5dc04":["/docsite/2de5dc04.e56f3cbb.js"],"89086bde":["/docsite/89086bde.3e300f22.js"],"fb261e89":["/docsite/fb261e89.0ccc79b0.js"],"7a3a3ff7":["/docsite/7a3a3ff7.cbb88e2f.js"],"3b92a16f":["/docsite/3b92a16f.9ce76f59.js"],"dc53247c":["/docsite/dc53247c.60cce37a.js"],"1a67cdf1":["/docsite/1a67cdf1.4475079c.js"],"8cb59774":["/docsite/8cb59774.1ec732a0.js"],"c894b8d7":["/docsite/c894b8d7.c5260929.js"],"62c2d618":["/docsite/62c2d618.65ec18aa.js"],"475e2f04":["/docsite/475e2f04.3a7d3cfb.js"],"7895bed1":["/docsite/7895bed1.6470c410.js"],"485beb01":["/docsite/485beb01.e15aaab5.js"],"e3f0815c":["/docsite/e3f0815c.adca282e.js"],"2bf081b9":["/docsite/2bf081b9.3329fb57.js"],"d942bcad":["/docsite/d942bcad.4ca8f70c.js"],"06d768fd":["/docsite/06d768fd.1427bb1c.js"],"841beeb4":["/docsite/841beeb4.9b23b412.js"],"8c077d6e":["/docsite/8c077d6e.8b5a6cc2.js"],"266b4df4":["/docsite/266b4df4.32146e0d.js"],"b98a3732":["/docsite/b98a3732.41bc4f29.js"],"96d1d503":["/docsite/96d1d503.72c8a9a4.js"],"e23820a4":["/docsite/e23820a4.df4e3547.js"],"d02b0e26":["/docsite/d02b0e26.4836a327.js"],"06dc108f":["/docsite/06dc108f.ec84f134.js"],"6d5133e3":["/docsite/6d5133e3.76b6bb68.js"],"6875c492":["/docsite/6875c492.42d18faa.css","/docsite/6875c492.04540808.js"],"46767a84":["/docsite/46767a84.b1faeb9e.js"],"c154f36d":["/docsite/c154f36d.886d29f7.js"],"dc6093b7":["/docsite/dc6093b7.e53906c7.js"],"758a60bf":["/docsite/758a60bf.50645cb3.js"],"5fb3dc64":["/docsite/5fb3dc64.724b044b.js"],"01a85c17":["/docsite/01a85c17.f22440d2.js"],"9f1c2de8":["/docsite/9f1c2de8.38580966.js"]};/*]]>*/</script>

<title data-react-helmet="true">上下文与this</title>

<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="viewport" content="width=device-width"/><meta data-react-helmet="true" property="og:title" content="ThinkBucket · The tagline of my site"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="import Hint from &#x27;../../../src/components/Hint&#x27;"/><meta data-react-helmet="true" property="og:description" content="import Hint from &#x27;../../../src/components/Hint&#x27;"/><meta data-react-helmet="true" property="og:url" content="https://thinkbucket.github.io/docsite/docs/javascript/4.function/context-this"/>

<link data-react-helmet="true" rel="shortcut icon" href="https://avatars1.githubusercontent.com/u/53037732?s=70&amp;v=4"/>


<link rel="stylesheet" type="text/css" href="/docsite/main.5acaecc2.css" />

<link rel="stylesheet" type="text/css" href="/docsite/1.6f6572d2.css" />

<link rel="stylesheet" type="text/css" href="/docsite/2.2d0cefca.css" />

<link rel="stylesheet" type="text/css" href="/docsite/1be78505.a7dc664a.css" />

<link rel="stylesheet" type="text/css" href="/docsite/17896441.de264834.css" />

<link rel="stylesheet" type="text/css" href="/docsite/9b6a08e4.bb99dbfb.css" />

</head>
<body >
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/docsite/"><img class="navbar__logo" src="https://avatars1.githubusercontent.com/u/53037732?s=70&amp;v=4" alt="Logo"/><strong class="">ThinkBucket</strong></a><a class="navbar__item navbar__link" label="Javascript" position="left" href="/docsite/docs/javascript/preface/overview">Javascript</a><a class="navbar__item navbar__link" label="CSS" position="left" href="/docsite/docs/css/preface/overview">CSS</a><a class="navbar__item navbar__link" label="Web" position="left" href="/docsite/docs/web/preface/overview">Web</a><a class="navbar__item navbar__link" label="React Stack" position="left" href="/docsite/docs/react/preface/overview">React Stack</a><a class="navbar__item navbar__link" label="Design Patterns" position="left" href="/docsite/docs/design-patterns/preface/overview">Design Patterns</a><a class="navbar__item navbar__link" label="Algorithm" position="left" href="/docsite/docs/algorithm/preface/overview">Algorithm</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" label="Docs" position="right" href="/docsite/docs/doc1">Docs</a><a class="navbar__item navbar__link" label="Blog" position="right" href="/docsite/blog">Blog</a><a class="navbar__item navbar__link" href="https://github.com/ThinkBucket/docsite" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_16vC moon_1N64"></span></div><div class="react-toggle-track-x"><span class="toggle_16vC sun_3CZP"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/docsite/"><img class="navbar__logo" src="https://avatars1.githubusercontent.com/u/53037732?s=70&amp;v=4" alt="Logo"/><strong>ThinkBucket</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" label="Javascript" position="left" href="/docsite/docs/javascript/preface/overview">Javascript</a></li><li class="menu__list-item"><a class="menu__link" label="CSS" position="left" href="/docsite/docs/css/preface/overview">CSS</a></li><li class="menu__list-item"><a class="menu__link" label="Web" position="left" href="/docsite/docs/web/preface/overview">Web</a></li><li class="menu__list-item"><a class="menu__link" label="React Stack" position="left" href="/docsite/docs/react/preface/overview">React Stack</a></li><li class="menu__list-item"><a class="menu__link" label="Design Patterns" position="left" href="/docsite/docs/design-patterns/preface/overview">Design Patterns</a></li><li class="menu__list-item"><a class="menu__link" label="Algorithm" position="left" href="/docsite/docs/algorithm/preface/overview">Algorithm</a></li><li class="menu__list-item"><a class="menu__link" label="Docs" position="right" href="/docsite/docs/doc1">Docs</a></li><li class="menu__list-item"><a class="menu__link" label="Blog" position="right" href="/docsite/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="https://github.com/ThinkBucket/docsite" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul></div></div></div></nav><main class="main"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">前言</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/preface/overview">总览</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/preface/note">说明</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">1. 基础概念</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/1.basic/workflow">V8工作流程</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/1.basic/scope">作用域</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/1.basic/execute-context">执行上下文</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">2. 内存管理</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/memory-space">内存空间</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/memory-check">内存检测</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/old-new-space">分代回收</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/reference-counting">引用计数</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/memory-leak">内存泄漏</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/2.memory/gc-optimization">GC缺陷与优化</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">3. 闭包</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/3.closure/closure-external">闭包的形</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/3.closure/closure-internal">闭包的神</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/3.closure/closure-issues">闭包注意事项</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/3.closure/closure-application">闭包的应用</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/3.closure/summary-test">小结与测试</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">4. 函数</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/4.function/function-overview">函数概览</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docsite/docs/javascript/4.function/context-this">上下文与this</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/4.function/function-params">函数参数</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/4.function/constructor">构造器/构造函数</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/4.function/iife">立即执行函数IIFE</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/4.function/chained-call">链式调用</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">5. 类型机制</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/5.typing/is-type">类型判断</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/5.typing/type-conversion">类型转换</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/5.typing/equal">比较</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/5.typing/clone">拷贝</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/5.typing/data-binding">数据绑定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">6. 模块机制</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/6.modules/amd-cmd-umd">AMD/CMD/UMD</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/6.modules/es6-module">ES6 Module</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/6.modules/import()">动态import()</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/6.modules/browser-import">浏览器加载</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/6.modules/babel">Babel编译</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">7. 引用类型</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/7.reference-type/array">数组</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/7.reference-type/object">对象</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/7.reference-type/regex">正则表达式</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/7.reference-type/date">日期</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/7.reference-type/set-map">Set/Map</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">8. 面向对象编程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/constructor">构造函数</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/create-instance">创建实例</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/prototype-chain">原型和原型链</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/inherit">原型链继承</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/class">class</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/8.object-oriented-programming/super">super</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">9. 异步编程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/macro-task">宏任务</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/micro-task">微任务</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/event-system">事件系统</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/event-loop">事件循环</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/callback">Callback</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/promise">Promise</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/9.async-programming/async-await">async/await</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">10. 响应式编程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/10.reactive-programming/race-condition">竞态</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">11. 性能优化</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/11.performance-optimization/debounce">防抖</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/11.performance-optimization/throttle">节流</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/11.performance-optimization/memoization">缓存与记忆化</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/11.performance-optimization/tco">递归与尾调用优化</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">附录</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/appendix1-references">I 参考资料</a></li><li class="menu__list-item"><a class="menu__link" href="/docsite/docs/javascript/appendix2-related-websites">II 常用网站</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><header><h1 class="docTitle_1vWb">上下文与this</h1></header><article><div class="markdown"><h2><a aria-hidden="true" class="anchor" id="吃肉理论"></a><a aria-hidden="true" class="hash-link" href="#吃肉理论">#</a>吃肉理论</h2><p>先来一句定义：上下文是指 JS <strong>方法</strong>所属的<strong>对象</strong>（即告诉该方法this是谁）。</p><p>别捉急这句话究竟该怎么理解，我来想一想为什么需要this？</p><p>JS允许在函数体内部，引用当前作用域的其他变量，顺着作用域链去查找，以吃肉为例，我的碗里有肉的时候，就不会去锅(window)里拿肉：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">bowl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in bowl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in pot&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &#x27;meat in bowl&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>人总是吃着碗里的想着锅里的，此时我还不满足，在我的碗里(作用域/执行上下文)虽然有一块肉(meat)，但我偏偏就想吃锅的肉，那怎么办呢，this这个中介来了说，别急我有办法：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">bowl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in bowl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in pot&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &#x27;meat in pot&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>这就是this绑定中的默认绑定，此时的this指向window对象，我们来看一下：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">bowl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in bowl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in pot&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// true</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>这就是优先级最低的this默认绑定规则。那如果我想吃别人碗里的肉怎么办？那我能不能再创造一个bowl2的函数？可以是可以，但上下文本质上是一个对象，函数也是一个对象，但比较特殊，处理起来比较复杂，我们换一个比较简单的，直接用对象来表示bowl，加入了eat函数：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> myBowl </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in my bowl&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">eat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> othersBowl </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in others bowl&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">eat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">meat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> meat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;meat in pot&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>OK，碗都准备好了，下面开始吃别人碗里的肉吧，我们通过apply/call/bind的方式来大摇大摆地去拿别人碗里的肉：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">myBowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">eat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &#x27;meat in my bowl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">myBowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">eat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">othersBowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &#x27;meat in others bowl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">myBowl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">eat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &#x27;meat in pot&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>上面第一种吃肉方式叫隐式绑定，后面两种都是显式绑定。至此，我们再回顾一下开头的定义，用吃肉理论去改写一下：</p><ul><li>上下文是指JS方法所属的对象（即告诉该方法this是谁）</li><li>上下文是指去哪个碗里拿肉吃（this就是指哪个碗）</li></ul><p>下面我们再对每一种方式进行详细探讨。</p><h2><a aria-hidden="true" class="anchor" id="this的四种绑定"></a><a aria-hidden="true" class="hash-link" href="#this的四种绑定">#</a>this的四种绑定</h2><p>this绑定优先级：</p><ul><li><strong>new绑定</strong>：var bar = new foo()</li><li><strong>显示绑定</strong>：call/apply/bind 绑定： var bar = foo.call(obj2)</li><li><strong>隐式绑定</strong>：上下文对象调用：var bar = obj1.foo()</li><li><strong>默认绑定</strong>：在严格模式下绑定到undefined，否则绑定到全局对象</li></ul><div class="custom-hint" style="border-left:4px solid #3884ff"><div style="float:left"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="none" class="custom-hint__icon" style="color:#3884ff"><g><path d="M12.2 8.98c.06-.01.12-.03.18-.06.06-.02.12-.05.18-.09l.15-.12c.18-.19.29-.45.29-.71 0-.06-.01-.13-.02-.19a.603.603 0 0 0-.06-.19.757.757 0 0 0-.09-.18c-.03-.05-.08-.1-.12-.15-.28-.27-.72-.37-1.09-.21-.13.05-.23.12-.33.21-.04.05-.09.1-.12.15-.04.06-.07.12-.09.18-.03.06-.05.12-.06.19-.01.06-.02.13-.02.19 0 .26.11.52.29.71.1.09.2.16.33.21.12.05.25.08.38.08.06 0 .13-.01.2-.02M13 16v-4a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0M12 3c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9 4.963 0 9-4.037 9-9 0-4.962-4.037-9-9-9m0 20C5.935 23 1 18.065 1 12S5.935 1 12 1c6.066 0 11 4.935 11 11s-4.934 11-11 11" fill-rule="evenodd"></path></g></svg></div><div><p><strong>提示</strong>：总体原则：this的绑定规则完全取决于调用位置，但严格模式下与调用位置无关。</p>
</div></div><h3><a aria-hidden="true" class="anchor" id="默认绑定"></a><a aria-hidden="true" class="hash-link" href="#默认绑定">#</a>默认绑定</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>本例中，函数调用时应用了 this 的默认绑定，因此 this 指向全局对象。那么我们怎么知道这里应用了默认绑定呢?可以通过分析调用位置来看看 foo() 是如何调用的。如果foo() 是<strong>直接使用不带任何修饰的函数引用进行调用的</strong>，那就是默认绑定。</p><p>思考以下代码：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>其实最后输出的还是1，foo调用的时候作用域虽然是bar，但是其上下文this绑定还用的是默认绑定规则，因为foo() 是直接使用不带任何修饰的函数引用进行调用的。再想想这就是为什么执行上下文偏向的是作用域，而上下文则是基于对象的，告诉该函数this是哪个对象，请注意不管该作用域有没有该变量都不影响，主要是this指向的上下文得有这个变量，也千万不要误解为默认模式是前面省略了 <code>(window.)foo()</code> 。</p><p>这里主要关注一下：严格模式下与调用位置无关这句话。看的是this的位置。严格模式全局对象将无法使用默认绑定，指向undefined，不是window，因为严格模式不会自动用apply去绑定this的指向。</p><p>两个例子对比看一下：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Example #1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;use strict&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// TypeError: this is undefined</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Example #2</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;use strict&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="隐式绑定"></a><a aria-hidden="true" class="hash-link" href="#隐式绑定">#</a>隐式绑定</h3><p>我们已经看过吃肉理论中的隐式绑定最简单的例子，下面看个稍微复杂的：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj2 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> foo</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj1 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> obj2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> obj2</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">obj1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">obj2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 42</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>我们可以看出：对象属性引用链中只有最顶层或者说最后一层会影响调用位置。</p><h4><a aria-hidden="true" class="anchor" id="隐式丢失"></a><a aria-hidden="true" class="hash-link" href="#隐式丢失">#</a>隐式丢失</h4><p>思考下面的代码:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> foo</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 函数别名，请注意这可不是调用时候的隐式绑定！</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>虽然 bar 是 obj.foo 的一个引用，但是实际上，它引用的是 foo 函数本身，因此此时的 bar() 其实是一个不带任何修饰的函数调用，因此应用了默认绑定。</p><p>记住这条十分重要的规则：不带任何修饰的函数调用，会进行默认绑定。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 这个不是调用</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1, 这个调用时候进行默认绑定</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2, 显示绑定</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1, 赋值表达式 p.foo = o.f</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>这种隐式丢失的情况非常令人讨厌，我们常常会写出类似以下的代码：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doFoo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">cb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// fn 其实引用的是上面的foo函数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &lt;-- 调用位置!</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> foo</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">doFoo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>我们平时写代码，常常会写出doFoo这样的函数，参数传的是引用类型的函数，比如我调用一个可以接受回调函数的函数，内置的setTimeout其实就是这样碗的，直接进行默认绑定：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">cb</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> delay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 等待 delay 毫秒</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// &lt;-- 调用位置!</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>如果在函数内部直接调用cb()，那么内部的this其实是默认绑定。给我们造成了一种“this丢失”的情况，foo内部的this就指向的是锅里而不是我自己的碗里，那如何让它指向我自己碗呢？对，就是很矫情，现在我不想吃锅里或者其他人碗里的肉了，就想老老实实先吃自己的碗里的，但还得给我用this，那怎么做？</p><p>cb写成箭头函数是一个办法。</p><h3><a aria-hidden="true" class="anchor" id="显式绑定-callapplybind"></a><a aria-hidden="true" class="hash-link" href="#显式绑定-callapplybind">#</a>显式绑定: call/apply/bind</h3><p>都是用来改变this的指向，call/apply 可以改变函数的this指向。 除了传递参数时有所差别，<strong>call和apply作用完全一样</strong>。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> tim </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;tim&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">getName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">       </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">       </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> jake </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;jake&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">tim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// tim</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// jake对象没有getName方法，但是可以通过call/apply去使用tim对象的getName方法</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">tim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jake</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// jake</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">tim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jake</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// jake</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>tim.getName.call(jake)的意思是执行getName方法，但是通过call/apply将getName方法中的this指向强行设置为jake对象。因此最终的返回结果会是jake。</p><p>call apply的不同之处在于传递参数的形式。其中<strong>apply传递的参数为数组形式, call传递的参数为按顺序依次排列</strong>。一个简单的实例说明。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 当参数个数不确定或者你觉得用apply比较爽时, 就直接使用apply</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 字面解释就是obj夺舍fn，obj拥有了执行fn函数的能力，并且this指向obj.</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> arguments </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;gender&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h4><a aria-hidden="true" class="anchor" id="apply、call、bind比较"></a><a aria-hidden="true" class="hash-link" href="#apply、call、bind比较">#</a>apply、call、bind比较</h4><p>那么 apply、call、bind 三者相比较，之间又有什么异同呢？何时使用 apply、call，何时使用 bind 呢。简单的一个栗子：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">81</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> foo </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">99</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">getX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//81</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//81</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//81</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//81</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>三个输出的都是81，但是注意看使用 bind() 方法的，他后面多了对括号。</p><p>也就是说，区别是，当你希望改变上下文环境之后并非立即执行，而是<strong>回调执行</strong>的时候，使用 bind() 方法。而 apply/call 则会立即执行函数。</p><p>再总结一下：</p><ul><li>apply 、 call 、bind 三者都是用来改变函数上下文(this对象的指向)的；</li><li>apply 、 call 、bind 三者第一个参数都是this要指向的对象，也就是想指定的上下文；</li><li>apply 、 call 、bind 三者都可以利用后续参数传参，apply是传数组，call是挨个传；</li><li>bind是返回对应函数，便于稍后调用；apply、call则是立即调用 。</li></ul><p>call和apply都是改变上下文中的this并立即执行这个函数，bind方法可以让对应的函数想什么时候调就什么时候调用，并且可以将参数在执行的时候添加。为什么？请看bind内部实现原理：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">fn</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>在Javascript中，多次 bind() 是无效的。更深层次的原因， bind() 的实现，相当于使用函数在内部包了一个 call / apply ，第二次 bind() 相当于再包住第一次 bind() ,故第二次以后的 bind 是无法生效的。</p><h3><a aria-hidden="true" class="anchor" id="new绑定"></a><a aria-hidden="true" class="hash-link" href="#new绑定">#</a>new绑定</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>使用new来调用foo(...)时，我们会构造一个新对象并把它绑定到foo(...)调用中的this上。</p><h2><a aria-hidden="true" class="anchor" id="忽略this绑定"></a><a aria-hidden="true" class="hash-link" href="#忽略this绑定">#</a>忽略this绑定</h2><p>两个思路：</p><ul><li>将this绑定转成默认绑定，看上去也就不生效了。</li><li>将this限制在空对象当中，看上去也就不生效了。</li></ul><p>看了刚才的理论部分，以为都清楚了this的绑定来吗？我们来看一个babel转义后的代码：</p><img src="https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/ZQpnBe.jpg"/><h3><a aria-hidden="true" class="anchor" id="转成默认绑定"></a><a aria-hidden="true" class="hash-link" href="#转成默认绑定">#</a>转成默认绑定</h3><p>如果你把 null/undefined/void  0 作为 this 的绑定对象传入 call、apply 或者 bind，这些值</p><p>在调用时会被忽略，实际应用的是默认绑定规则:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>那么什么情况下你会传入 null 呢?</p><p>一种非常常见的做法是使用 apply(..) 来“展开”一个数组，并当作参数传入一个函数。</p><p>类似地，bind(..) 可以对参数进行柯里化(预先设置一些参数)，这种方法有时非常有用:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;a:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;, b:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> b </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 把数组&quot;展开&quot;成参数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// a:2, b:3</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 使用 bind(..) 进行柯里化</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// a:2, b:3</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>这两种方法都需要传入一个参数当作 this 的绑定对象。如果函数并不关心 this 的话，你仍然需要传入一个占位值，这时 null 可能是一个不错的选择。</p><img src="https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/HWCCeR.jpg"/><p>在 ES6 中，可以用 ... 操作符代替 apply(..) 来“展开”数组，foo(...<!-- -->[1,2]<!-- -->) 和 foo(1,2) 是一样的，这样可以避免不必要的 this 绑定。可惜，在 ES6 中没有柯里化的相关语法，因此还是需要使用 bind(..)</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">curry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">fn</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> arity </span><span class="token parameter operator" style="color:rgb(127, 219, 202)">=</span><span class="token parameter"> fn</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token parameter">length</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> </span><span class="token parameter operator" style="color:rgb(127, 219, 202)">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> arity </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;=</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token spread operator" style="color:rgb(127, 219, 202)">...</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> arity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token spread operator" style="color:rgb(127, 219, 202)">...</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>这种方法的副作用：虽然是表面上忽略this绑定，但其实是转嫁了默认绑定，如果某个函数确实使用了 this(比如第三方库中的一个函数)，那默认绑定规则会把 this 绑定到全局对象(在浏览 器中这个对象是 window)，这将导致不可预计的后果(比如修改全局对象)。这种方式可能会导致许多难以分析和追踪的 bug。</p><h3><a aria-hidden="true" class="anchor" id="更安全的this：限制在空对象中"></a><a aria-hidden="true" class="hash-link" href="#更安全的this：限制在空对象中">#</a>更安全的this：限制在空对象中</h3><p>如果我们在忽略 this 绑定时总是传入一个空对象，那就什么都不用担心了，因为任何对于 this 的使用都会被限制在这个空对象中，不会对全局对象产生任何影响。</p><p>由于这个对象完全是一个空对象，我自己喜欢用变量名 ø(这是数学中表示空集合符号的小写形式)来表示它。在大多数键盘(比如说 Mac 的 US 布局键盘)上都可以使用⌥ +o (Option-o)来打出这个符号。有些系统允许你为特殊符号设定快捷键。如果你不喜欢 ø 符号或者你的键盘不太容易打出这个符号，那你可以换一个喜欢的名字来称呼它。</p><p>无论你叫它什么，在 JavaScript 中创建一个空对象最简单的方法都是 Object.create(null) 。Object.create(null) 和 {} 很像，<strong>但是并不会创建 Object.prototype 这个委托，所以它比 {}“更空”</strong>:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter">b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;a:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;, b:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> b </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 我们的空对象</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> ø </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 把数组展开成参数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">apply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> ø</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// a:2, b:3</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 使用 bind(..) 进行柯里化</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> ø</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// a:2, b:3</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>使用变量名 ø 不仅让函数变得更加“安全”，而且可以提高代码的可读性，因为 ø 表示 “我希望 this 是空”，这比 null 的含义更清楚。</p><h2><a aria-hidden="true" class="anchor" id="箭头函数的this"></a><a aria-hidden="true" class="hash-link" href="#箭头函数的this">#</a>箭头函数的this</h2><p>箭头函数并不是使用 function 关键字定义的，而是使用被称为“胖箭头”的操作符 =&gt; 定 义的。箭头函数不使用 this 的四种标准规则，而是根据外层(函数或者全局)作用域来决 定 this。</p><p>我们来看看箭头函数的词法作用域:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 返回一个箭头函数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//this 继承自 foo()</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj1 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj2 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> bar </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> obj1 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> obj2 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2, 不是 3 !</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>foo() 内部创建的箭头函数会捕获调用时 foo() 的 this。由于 foo() 的 this 绑定到 obj1， bar(引用箭头函数)的 this 也会绑定到 obj1，箭头函数的绑定无法被修改。(new 也不 行!)</p><p>箭头函数最常用于回调函数中，例如事件处理器或者定时器:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 这里的 this 在此法上继承自 foo()</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> obj </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>箭头函数可以像 bind(..) 一样确保函数的 this 被绑定到指定对象，此外，其重要性还体 现在它用更常见的词法作用域取代了传统的 this 机制。实际上，在 ES6 之前我们就已经 在使用一种几乎和箭头函数完全一样的模式。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> self </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// lexical capture of this</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">   </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> obj </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>虽然 self = this 和箭头函数看起来都可以取代 bind(..)，但是从本质上来说，它们想替代的是 this 机制。如果你经常编写 this 风格的代码，但是绝大部分时候都会使用 self = this 或者箭头函数来否定 this 机制，那你或许应当:</p><ul><li>只使用词法作用域并完全抛弃错误this风格的代码;</li><li>完全采用 this 风格，在必要时使用 bind(..)，尽量避免使用 self = this 和箭头函数。</li></ul><p>当然，包含这两种代码风格的程序可以正常运行，但是在同一个函数或者同一个程序中混合使用这两种风格通常会使代码更难维护，并且可能也会更难编写。</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ThinkBucket/docsite/edit/master/docs/javascript/4.function/context-this.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated<!-- --> <!-- -->on<!-- --> <strong>10/17/2019</strong> <!-- -->by <strong>Kimi Gao</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docsite/docs/javascript/4.function/function-overview"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->函数概览</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docsite/docs/javascript/4.function/function-params"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">函数参数<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#吃肉理论" class="contents__link">吃肉理论</a></li><li><a href="#this的四种绑定" class="contents__link">this的四种绑定</a><ul class=""><li><a href="#默认绑定" class="contents__link">默认绑定</a></li><li><a href="#隐式绑定" class="contents__link">隐式绑定</a></li><li><a href="#显式绑定-callapplybind" class="contents__link">显式绑定: call/apply/bind</a></li><li><a href="#new绑定" class="contents__link">new绑定</a></li></ul></li><li><a href="#忽略this绑定" class="contents__link">忽略this绑定</a><ul class=""><li><a href="#转成默认绑定" class="contents__link">转成默认绑定</a></li><li><a href="#更安全的this：限制在空对象中" class="contents__link">更安全的this：限制在空对象中</a></li></ul></li><li><a href="#箭头函数的this" class="contents__link">箭头函数的this</a></li></ul></div></div></div></div></div></div></main></div></main><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">相关资源</h4><ul class="footer__items"><li class="footer__item"><a aria-current="page" class="footer__link-item active" label="文档介绍" href="/docsite/">文档介绍</a></li><li class="footer__item"><a class="footer__link-item" label="MDX" to="https://github.com/mdx-js/mdx" href="https://github.com/mdx-js/mdx">MDX</a></li><li class="footer__item"><a class="footer__link-item" label="Docusaurus" to="https://github.com/facebook/docusaurus" href="https://github.com/facebook/docusaurus">Docusaurus</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">帮助</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="更新日志" href="https://github.com/ThinkBucket/docsite/releases" target="_blank" rel="noopener noreferrer">更新日志</a></li><li class="footer__item"><a class="footer__link-item" label="讨论列表" href="https://github.com/ThinkBucket/docsite/issues" target="_blank" rel="noopener noreferrer">讨论列表</a></li><li class="footer__item"><a class="footer__link-item" label="报告 Bug" href="https://github.com/ThinkBucket/docsite/issues/new" target="_blank" rel="noopener noreferrer">报告 Bug</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">社区</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="Blog" href="/docsite/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" label="GitHub" href="https://github.com/ThinkBucket/docsite" target="_blank" rel="noopener noreferrer">GitHub</a></li><div><iframe src="https://ghbtns.com/github-btn.html?user=ThinkBucket&repo=docsite&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe></div></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"/></div>Copyright © 2019 ThinkBucket.</div></div></footer>
</div>

<script type="text/javascript" src="/docsite/runtime~main.75904509.js"></script>

<script type="text/javascript" src="/docsite/main.7e2c0c8b.js"></script>

<script type="text/javascript" src="/docsite/1.dee78de8.js"></script>

<script type="text/javascript" src="/docsite/2.153601ea.js"></script>

<script type="text/javascript" src="/docsite/1be78505.99d86712.js"></script>

<script type="text/javascript" src="/docsite/57e90e5e.941e8439.js"></script>

<script type="text/javascript" src="/docsite/17896441.6c9b418a.js"></script>

<script type="text/javascript" src="/docsite/0.a633ada9.js"></script>

<script type="text/javascript" src="/docsite/9b6a08e4.36539049.js"></script>

<script type="text/javascript" src="/docsite/4573c181.b1e095d3.js"></script>

</body>
</html>