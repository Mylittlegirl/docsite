(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{345:function(e,n,o){"use strict";o.r(n),o.d(n,"frontMatter",(function(){return a})),o.d(n,"rightToc",(function(){return l})),o.d(n,"default",(function(){return i}));o(0);var t=o(546);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e}).apply(this,arguments)}const a={title:"\u62f7\u8d1d",sidebar_label:"\u62f7\u8d1d"},l=[{value:"\u6d45\u62f7\u8d1d shallowClone",id:"\u6d45\u62f7\u8d1d-shallowclone",children:[]},{value:"\u6df1\u62f7\u8d1d deepClone",id:"\u6df1\u62f7\u8d1d-deepclone",children:[]}],c={rightToc:l},b="wrapper";function i({components:e,...n}){return Object(t.b)(b,r({},c,n,{components:e,mdxType:"MDXLayout"}),Object(t.b)("h2",{id:"\u6d45\u62f7\u8d1d-shallowclone"},"\u6d45\u62f7\u8d1d shallowClone"),Object(t.b)("pre",null,Object(t.b)("code",r({parentName:"pre"},{className:"language-js"}),'function shallowClone(obj) {\n  if (typeof obj !== "object" || obj === null) {\n      return obj\n  }\n  if (obj instanceof Date){\n      return new Date(obj);\n  }\n  if (obj instanceof RegExp){\n      return new RegExp(obj);\n  }\n  if (obj instanceof Set) {\n      let objClone = new Set();\n      obj.forEach(item => objClone.add(item));\n      return objClone;\n  }\n  if (obj instanceof Map) {\n      let objClone = new Map();\n      obj.forEach((value, key) => objClone.set(key, value));\n      return objClone;\n  }\n  const keys = Object.keys(obj);\n  let objClone = Array.isArray(obj) ? [] : {};\n  if (keys.length < 1) {\n      return objClone\n  }\n  keys.forEach(key => objClone[key] = obj[key]);\n  return objClone;\n}\n')),Object(t.b)("h2",{id:"\u6df1\u62f7\u8d1d-deepclone"},"\u6df1\u62f7\u8d1d deepClone"),Object(t.b)("p",null,"\u5224\u65ad\u6570\u636e\u7c7b\u578b + \u5faa\u73af\u9012\u5f52"),Object(t.b)("pre",null,Object(t.b)("code",r({parentName:"pre"},{className:"language-js"}),"function deepClone(obj, hash = new WeakMap()) {\n  // Primitive Type\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n  // Date\n  if(obj instanceof Date){\n    return new Date(obj);\n  }\n  //RegExp\n  if(obj instanceof RegExp){\n    return new RegExp(obj);\n  }\n  // Set\n  if(obj instanceof Set) {\n    let objClone = new Set();\n    obj.forEach(item => objClone.add(deepClone(item)));\n    return objClone;\n  }\n  // Map\n  if(obj instanceof Map) {\n    let objClone = new Map();\n    obj.forEach((value, key) => objClone.set(deepClone(key), deepClone(value)));\n    return objClone\n  }\n  // search hash map\n  if(hash.has(obj)) return hash.get(obj);\n\n  // Array Object\n  const keys = Object.keys(obj);\n  let objClone = Array.isArray(obj) ? [] : {};\n  if (keys.length < 1) {\n    return objClone\n  }\n  // add key->value to hash\n  hash.set(obj, objClone);\n\n  keys.forEach(key => {\n    objClone[key] = typeof obj[key] === 'object' ? deepClone(obj[key], hash) : deepClone(obj[key]);\n  });\n  return objClone;\n}\n")),Object(t.b)("p",null,"\u8fd9\u91cc\u6709\u4e2a\u70b9\u5927\u5bb6\u8981\u6ce8\u610f\u4e0b\uff0c\u5bf9\u4e8efunction\u7c7b\u578b\uff0c\u8fd9\u91cc\u662f\u76f4\u63a5\u8d4b\u503c\u7684\uff0c\u8fd8\u662f\u5171\u4eab\u4e00\u4e2a\u5185\u5b58\u503c\u3002\u8fd9\u662f\u56e0\u4e3a\u51fd\u6570\u66f4\u591a\u7684\u662f\u5b8c\u6210\u67d0\u4e9b\u529f\u80fd\uff0c\u6709\u4e2a\u8f93\u5165\u503c\u548c\u8fd4\u56de\u503c\uff0c\u800c\u4e14\u5bf9\u4e8e\u4e0a\u5c42\u4e1a\u52a1\u800c\u8a00\u66f4\u591a\u7684\u662f\u5b8c\u6210\u4e1a\u52a1\u529f\u80fd\uff0c\u5e76\u4e0d\u9700\u8981\u771f\u6b63\u5c06\u51fd\u6570\u6df1\u62f7\u8d1d\u3002"),Object(t.b)("p",null,"\u4f46\u662ffunction\u7c7b\u578b\u8981\u600e\u4e48\u62f7\u8d1d\u5462\uff1f"),Object(t.b)("p",null,"javascript\u6df1\u62f7\u8d1d(deepClone) ",Object(t.b)("a",r({parentName:"p"},{href:"https://www.google.com/url?q=https://segmentfault.com/a/1190000006687581&sa=D&ust=1570449321569000"}),"https://www.google.com/url?q=https://segmentfault.com/a/1190000006687581&sa=D&ust=1570449321569000")),Object(t.b)("p",null,Object(t.b)("a",r({parentName:"p"},{href:"https://github.com/muwenzi/Program-Blog/issues/62"}),"https://github.com/muwenzi/Program-Blog/issues/62")))}i.isMDXComponent=!0},546:function(e,n,o){"use strict";o.d(n,"a",(function(){return c})),o.d(n,"b",(function(){return p}));var t=o(0),r=o.n(t),a=r.a.createContext({}),l=function(e){var n=r.a.useContext(a),o=n;return e&&(o="function"==typeof e?e(n):Object.assign({},n,e)),o},c=function(e){var n=l(e.components);return r.a.createElement(a.Provider,{value:n},e.children)};var b="mdxType",i={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},s=Object(t.forwardRef)((function(e,n){var o=e.components,t=e.mdxType,a=e.originalType,c=e.parentName,b=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&-1===n.indexOf(t)&&(o[t]=e[t]);return o}(e,["components","mdxType","originalType","parentName"]),s=l(o),p=t,u=s[c+"."+p]||s[p]||i[p]||a;return o?r.a.createElement(u,Object.assign({},{ref:n},b,{components:o})):r.a.createElement(u,Object.assign({},{ref:n},b))}));function p(e,n){var o=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var a=o.length,l=new Array(a);l[0]=s;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c[b]="string"==typeof e?e:t,l[1]=c;for(var p=2;p<a;p++)l[p]=o[p];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,o)}s.displayName="MDXCreateElement"}}]);