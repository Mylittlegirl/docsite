(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{128:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return s}));n(0);var i=n(438),a=n(442),r=n(439);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o={title:"%",sidebar_label:"%"},b=[{value:"可用百分比值的常见 CSS 属性",id:"可用百分比值的常见-css-属性",children:[{value:"width & height",id:"width--height",children:[]},{value:"margin & padding",id:"margin--padding",children:[]},{value:"border-radius",id:"border-radius",children:[]},{value:"background-position",id:"background-position",children:[]},{value:"font-size",id:"font-size",children:[]},{value:"line-height",id:"line-height",children:[]},{value:"vertical-align",id:"vertical-align",children:[]},{value:"bottom, left, right, top",id:"bottom-left-right-top",children:[]},{value:"transform: translate",id:"transform-translate",children:[]}]},{value:"百分比值的继承",id:"百分比值的继承",children:[]}],p={rightToc:b},d="wrapper";function s(e){var t=e.components,n=c(e,["components"]);return Object(i.b)(d,l({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"百分比是一定有其对应的参照值的。也就是说，百分比值是一种相对值，任何时候要分析它的效果，都需要正确找到它的参照。"),Object(i.b)("h2",{id:"可用百分比值的常见-css-属性"},"可用百分比值的常见 CSS 属性"),Object(i.b)("h3",{id:"width--height"},"width & height"),Object(i.b)("p",null,"宽和高在使用百分比值时，其参照都是元素的包含块（Containing Block，详情）。width参照包含块的宽度，height参照包含块的高度。在大部分情况下，",Object(i.b)("strong",{parentName:"p"},"包含块就是父元素的内容区（盒模型里的content）"),"。"),Object(i.b)("p",null,"我们有时会写这样的代码 ",Object(i.b)("inlineCode",{parentName:"p"},"width:100%; height:100%;")," 来实现尺寸和父元素一致。但会发现有时候宽度是符合意思（100%）的，但高度却没有效果。请看下面这个示例："),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-html"}),'<div class="grandpa">\n  <div class="parent">\n    <div class="child"></div>\n  </div>\n</div>\n')),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-css"}),".grandpa {\n  border: 1px dotted #ee3979;\n  width: 100px;\n  height: 100px;\n}\n.parent {\n  height: 100%;\n}\n.child {\n  background-color: #98d4fb;\n  height: 70%;\n}\n")),Object(i.b)(a.a,{width:"530",align:"center",src:"https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/6HhVta.png",mdxType:"Img"}),Object(i.b)("p",null,"可以看到，直接父元素（包含块）是否有明确的高度定义，会影响height为百分比值时的结果。"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"如果直接父元素 `height` 为 `auto` ，只要子元素在文档流中（即 `position` 不等于 `fixed` 或者 `absolute` ），那子元素 `height:100%` 会完全就被忽略了，等同于 `auto` 初始默认值。"),Object(i.b)("p",null,"如果元素是根元素（",Object(i.b)("inlineCode",{parentName:"p"},"<html>"),"），它的高度等于视窗高度。所以，",Object(i.b)("inlineCode",{parentName:"p"},"<html>")," 标签的高度定义百分比总是有效的，而如果你希望在 ",Object(i.b)("inlineCode",{parentName:"p"},"<body>")," 里也用高度百分比，就一定要先为 ",Object(i.b)("inlineCode",{parentName:"p"},"<html>")," 定义明确的高度。这就是为什么在之前的固定页脚一文中，有以下这样写法："),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-css"}),"html, body{\n  height: 100%;\n}\n")),Object(i.b)("p",null,"为什么？如果包含块（即父元素）的高度没有显式指定（即高度由内容决定），并且该元素不是绝对定位，则计算值为auto（这是计算值，是指渲染之后解释的值，并不是我们设置height: auto所指的值）。一句话总结就是：因为解释成了 auto。要知道，auto 和百分比计算，肯定是算不了的："),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-text"}),"'auto' * 100/100 = NaN\n")),Object(i.b)("p",null,"此时，他们的计算结果是NaN,这就是父元素没有设置高度时，子元素高度百分比不生效的原因了。"),Object(i.b)("h3",{id:"margin--padding"},"margin & padding"),Object(i.b)("p",null,"这两个属性属于混合属性，也通过一个例子说明："),Object(i.b)(a.a,{width:"530",align:"center",src:"https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/hLkljH.png",mdxType:"Img"}),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"对于 `margin` 和 `padding` ，其任意方向的百分比值，参照都是**包含块的宽度**。"),Object(i.b)("p",null,"为什么会多个方向都取包含块的宽度作为参照呢？在我看来，包含块的宽度在块布局的排版中是最有用的（想象一下word里输入文字，到宽度边缘后换行的场景），对应的，水平方向的内外边距一定要参照包含块的宽度。再考虑垂直方向的内外边距，它们如果不和水平方向取相同的参照物，就会因为不一致而很难使用。所以，总体来说，统一以包含块的宽度作为参考，会具有相对最好的可用性。"),Object(i.b)("p",null,"严格地说，参照是包含块的宽度，是在样式属性writing-mode为默认值时的情况。不过这个属性极少被用到，所以在此不做考虑。"),Object(i.b)("h3",{id:"border-radius"},"border-radius"),Object(i.b)("p",null,"你也许见过有人用下面的代码来让一个矩形变成刚好的圆形（请体会这个“刚好”）："),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-css"}),".circle {\n  border-radius: 50%;\n}\n")),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"如果一个元素的 `border-radius` 为百分比值，其参照物是这个元素自身的尺寸。"),Object(i.b)("p",null,"也就是说，假如这个元素宽是 60px，高是40px（border-box 的尺寸），那么 ",Object(i.b)("inlineCode",{parentName:"p"},"border-radius:50%")," 的结果等同于 ",Object(i.b)("inlineCode",{parentName:"p"},"border-radius: 30px / 20px")," 。"),Object(i.b)("p",null,"如果你还疑惑这里带 ",Object(i.b)("inlineCode",{parentName:"p"},"/")," 的圆角写法，请查看 ",Object(i.b)("a",l({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius"}),"MDN对border-radius的说明"),"。"),Object(i.b)("h3",{id:"background-position"},"background-position"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"background-position")," 的初始值就是百分比值 ",Object(i.b)("inlineCode",{parentName:"p"},"0% 0%")," 。下面是一个使用示例："),Object(i.b)(a.a,{width:"530",align:"center",src:"https://cosmos-x.oss-cn-hangzhou.aliyuncs.com/ydDH2X.png",mdxType:"Img"}),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"`background-position` 的百分比值，取的参照是一个减法计算值，由放置背景图的区域尺寸，减去背景图的尺寸得到，可以为负值。"),Object(i.b)("p",null,"对照上面的示例，思考一下，应该可以感受到，以这个减法计算值为参照的话，正好可以符合我们感官上对背景图位置的理解。"),Object(i.b)("p",null,"这个属性包括水平位置和垂直位置，它们分别参照的是宽度减法计算值和高度减法计算值。"),Object(i.b)("p",null,"你可能注意到了上面示例的最后一个竟然写了4个值（一般都只用2个值）。关于它的意义，请查看 ",Object(i.b)("a",l({parentName:"p"},{href:"http://www.w3.org/TR/css3-background/#background-position"}),"W3C 的 background-position")," 。"),Object(i.b)("h3",{id:"font-size"},"font-size"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"`font-size` 参照是直接父元素的 `font-size`。"),Object(i.b)("p",null,"例如，一个元素的直接父元素的 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size")," 是 14px，无论这个是直接定义的，还是继承得到的，当该元素定义 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size: 100%")," ，获得的效果就是 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size: 14px")," 。"),Object(i.b)("h3",{id:"line-height"},"line-height"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"`line-height` 为百分比其参照是元素自身的 `font-size` 。"),Object(i.b)("p",null,"例如，一个元素的 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size")," 是 12px ，那么 ",Object(i.b)("inlineCode",{parentName:"p"},"line-height: 150%")," 的效果是 ",Object(i.b)("inlineCode",{parentName:"p"},"line-height: 18px")," 。"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"`line-height: 1.5` 和 `line-height: 150%` 效果是一样的。"),Object(i.b)("h3",{id:"vertical-align"},"vertical-align"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"`vertical-align` 为百分比其参照是元素自身的 `line-height` 。"),Object(i.b)("p",null,"例如，一个元素的 ",Object(i.b)("inlineCode",{parentName:"p"},"line-height")," 是 30px，则 ",Object(i.b)("inlineCode",{parentName:"p"},"vertical-align: 10%")," 的效果是 ",Object(i.b)("inlineCode",{parentName:"p"},"vertical-align: 3px")," 。"),Object(i.b)(r.a,{type:"warning",mdxType:"Hint"},"尽管 `vertical-align` 可以使用数字，百分比值，但浏览器兼容性差异较大，所以不推荐使用数字和百分比。"),Object(i.b)("h3",{id:"bottom-left-right-top"},"bottom, left, right, top"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"这四个定位用的值是百分比时其参照是元素的包含块。left和right是参照包含块的宽度，bottom和top是参照包含块的高度。"),Object(i.b)("h3",{id:"transform-translate"},"transform: translate"),Object(i.b)(r.a,{type:"tip",mdxType:"Hint"},"平移变换，在水平方向和垂直方向上也可以使用百分比，其参照是变换的边界框的尺寸（等于这个元素自己的border-box尺寸）。"),Object(i.b)("p",null,"例如，一个宽度为150px，高度为100px的元素，定义transform:translate(50%, 50%)的效果是transform:translate(75px, 50px);。"),Object(i.b)("p",null,"还可以补充一点，translate3d对应是还有第三个维度的，但是，经过测试，最后的第3个值不可以使用百分比（否则样式定义无效）。至于为什么不可以参照呢，大概是因为那是神秘的第三维度吧…"),Object(i.b)("p",null,"如果你想要知道更多的百分比值在css属性中的可用情况及参照值，请参考MDN的CSS percentage values。"),Object(i.b)("h2",{id:"百分比值的继承"},"百分比值的继承"),Object(i.b)(r.a,{type:"warning",mdxType:"Hint"},"当百分比值用于可继承属性时，只有结合参照元素计算后的**绝对值会被继承**，而不是百分比值本身。"),Object(i.b)("p",null,"例如，一个元素的 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size")," 是 14px，并定义了 ",Object(i.b)("inlineCode",{parentName:"p"},"line-height:150%")," ，那么该元素的下一级子元素继承到的 ",Object(i.b)("inlineCode",{parentName:"p"},"line-height")," 就是 21px ，而不会再和子元素自己的 ",Object(i.b)("inlineCode",{parentName:"p"},"font-size")," 有关。"))}s.isMDXComponent=!0},439:function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(441),l=n.n(r),c=(n(440),{best:{name:"推荐",color:"#50c610",icon:a.a.createElement("svg",{preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",className:"custom-hint__icon",style:{color:"#50c610"}},a.a.createElement("g",null,a.a.createElement("path",{d:"M22 11.07V12a10 10 0 1 1-5.93-9.14"}),a.a.createElement("polyline",{points:"23 3 12 14 9 11"})))},must:{name:"强制",color:"#ff4642",icon:a.a.createElement("svg",{preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",fill:"#ff4642",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",stroke:"none",className:"custom-hint__icon"},a.a.createElement("g",null,a.a.createElement("path",{d:"M512 992c-262.4 0-480-217.6-480-480 0-262.4 217.6-480 480-480s480 217.6 480 480C992 774.4 774.4 992 512 992zM512 108.8C288 108.8 108.8 288 108.8 512c0 224 179.2 403.2 403.2 403.2s403.2-179.2 403.2-403.2C915.2 288 736 108.8 512 108.8zM697.6 684.8l-12.8 12.8c-6.4 6.4-19.2 6.4-25.6 0L512 550.4l-140.8 140.8c-6.4 6.4-19.2 6.4-25.6 0l-12.8-12.8c-6.4-6.4-6.4-19.2 0-25.6L473.6 512 326.4 371.2C320 358.4 320 345.6 326.4 339.2l12.8-12.8C345.6 320 358.4 320 371.2 326.4L512 473.6l140.8-140.8c6.4-6.4 19.2-6.4 25.6 0l12.8 12.8c6.4 6.4 6.4 19.2 0 25.6L550.4 512l140.8 140.8C704 665.6 704 678.4 697.6 684.8z"})))},tip:{name:"提示",color:"#3884ff",icon:a.a.createElement("svg",{preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"none",className:"custom-hint__icon",style:{color:"#3884ff"}},a.a.createElement("g",null,a.a.createElement("path",{d:"M12.2 8.98c.06-.01.12-.03.18-.06.06-.02.12-.05.18-.09l.15-.12c.18-.19.29-.45.29-.71 0-.06-.01-.13-.02-.19a.603.603 0 0 0-.06-.19.757.757 0 0 0-.09-.18c-.03-.05-.08-.1-.12-.15-.28-.27-.72-.37-1.09-.21-.13.05-.23.12-.33.21-.04.05-.09.1-.12.15-.04.06-.07.12-.09.18-.03.06-.05.12-.06.19-.01.06-.02.13-.02.19 0 .26.11.52.29.71.1.09.2.16.33.21.12.05.25.08.38.08.06 0 .13-.01.2-.02M13 16v-4a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0M12 3c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9 4.963 0 9-4.037 9-9 0-4.962-4.037-9-9-9m0 20C5.935 23 1 18.065 1 12S5.935 1 12 1c6.066 0 11 4.935 11 11s-4.934 11-11 11",fillRule:"evenodd"})))},warning:{name:"注意",color:"#fdbe12",icon:a.a.createElement("svg",{preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",className:"custom-hint__icon",style:{color:"#fdbe12"}},a.a.createElement("g",null,a.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),a.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"})))}});t.a=function(e){var t=e.type,n=e.children;return a.a.createElement("div",{className:"custom-hint",style:{borderLeft:"4px solid ".concat(c[t].color)}},a.a.createElement("div",{style:{float:"left"}},c[t].icon),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:l()("<strong>".concat(c[t].name,"</strong>：").concat(n))}}))}},440:function(e,t,n){},442:function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=function(e){var t=e.align,n=e.width,i=e.src,r=e.legend;return t?a.a.createElement("div",{align:t},a.a.createElement("img",{src:i,width:n}),r&&a.a.createElement("p",null,r)):a.a.createElement("img",{src:i,width:n})}}}]);